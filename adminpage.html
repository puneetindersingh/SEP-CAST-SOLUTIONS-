<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Admin | Cast Solution</title>
 <link rel="stylesheet" href="css/mainPage.css">
 <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body onload="checkCookie()">

<div class="row">

<!-- top nav -->

<div class="col-12 topnav" id="myTopnav">

  <a id="logoleftTop"><img id="logo" src="img/LOGO-01.png"/></a>
  <a href="#Admin"><i class="material-icons md-18 blue">account_box</i> ADMIN</a>
  <a href="#Qlik">Qlik</a>
  <a href="#contact"><i class="material-icons md-18 blue">contact_phone</i> CONTACT</a>
  <a href="#about"><i class="material-icons md-18 blue">lightbulb_outline</i> ABOUT</a>
  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="topnav()">&#9776;</a>
</div>

<!-- side bar -->
<div class="col-2 menu">
  <ul>
    <li class="tablinks" onclick="openCity(event, 'addNewUser')"><i class="material-icons md-18 blue">person_add</i> Add new user</li>
    <li class="tablinks" onclick="openCity(event, 'modifyUser')"><i class="material-icons md-18 blue">supervisor_account</i> Modify user</li>
    <li class="tablinks" onclick="openCity(event, 'addCompany')"><i class="material-icons md-18 blue">note_add</i> Add Company</li>
    <li class="tablinks" onclick="openCity(event, 'modifyCompany')"><i class="material-icons md-18 blue">assignment</i> Modify Company</li>
    <li><i class="material-icons md-18 blue">help</i> Help</li>
<li> <i class="material-icons md-18 blue">power_settings_new</i><a href="login.html" style="text-decoration: none;  color: black; "> Log Out</a></li>
    <li class="dropdown">
    <a class="dropbtn"><i class="material-icons md-18 blue">settings_applications</i> Settings</a>
    <div class="dropdown-content">
      <a class="tablinks" href="#" onclick="openCity(event, 'passReset')"><i class="material-icons md-18 blue">settings</i> Password Reset</a>
      <a href="#"><i class="material-icons md-18 blue">settings</i> Function 2</a>
      <a href="#"><i class="material-icons md-18 blue">settings</i> Function 3</a>
    </div>
  </li>
  </ul>
</div>

<!-- new form -->

<div class="col-14 divAddUser allform tabcontent" id="addNewUser">
  <form action="add_user.php" method="POST">
    <input id="searchBar" type="text" placeholder="Search user">
    <h4>User information</h4>
    <label for="fname">Username</label>
    <input type="text" name="username" placeholder="User name" required>
    <label for="fname">Password</label>
    <input type="text" name="password" placeholder="Password" required>
    <label for="fname">First Name</label>
    <input type="text" name="fname" placeholder="Your name" required>
    <label for="lname">Last Name</label>
    <input type="text" name="lname" placeholder="Your last name" required>
    <label for="lname">Email address</label>
    <input type="email" name="email" placeholder="Your email address" required>
    <label for="lname">Phone number</label>
    <input type="text" name="phone" placeholder="Your phone number" required>
    <label for="lname">Company Name</label>
    <input type="text" name="company" placeholder="Your company name" required>
    <label for="lname">Company WebSite</label>
    <input type="text" name="url" placeholder="Your company site name" required>
    <label for="lname">Company Job Title</label>
    <input type="text"  name ="jobtitle" placeholder="Your company job title" required>
    <input type="submit"  name="add_user" value="Add user">
  </form>
</div>


<div class="col-13 alltable divAddUser tabcontent" id="modifyUser" style="overflow-x:auto;">

 <!-- <table>
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email address</th>
    <th>Phone</th>
    <th>Company</th>
    <th>Company Site Name</th>
    <th>Company Job Title</th>
  </tr>
  </table> -->

</div>


<div class="col-14 divAddUser allform tabcontent" id="addCompany">
  <form action="add_company.php" method="POST">
    <input id="searchBar" type="text" placeholder="Search company..">
    <h4>Company information</h4>
    <label for="fname">Company Name</label>
    <input type="text" name="name" placeholder="Company name" required>
    <label for="lname">Company Address</label>
    <input type="text" name="address" placeholder="Company address" required>
    <label for="lname">Company Phone</label>
    <input type="text" name="phone" placeholder="Company phone" required>
    <label for="lname">Company URL</label>
    <input type="text" name="site" placeholder="Company URL" required>
    <input type="submit" value="Add Company" name="add_company">
  </form>
</div>

<div class="col-13 alltable divAddUser tabcontent" id="modifyCompany" style="overflow-x:auto;">

 <table>
  <tr>
    <th>Company Name</th>
    <th>Company Address</th>
    <th>Company Phone</th>
    <th>PCompany URL</th>
  </tr>
  </table>

</div>

<div class="col-14 divAddUser allform tabcontent" id="passReset">
  <form action="/action_page.php">
    <h4>Password Reset</h4>
    <label for="fname">Old Password</label>
    <input type="password" pattern=".{6,}" title="Six or more characters"placeholder="Your old password.."required>
    <label for="fname">New Password</label>
    <input type="password" pattern=".{6,}" title="Six or more characters"placeholder="Your new password.."required>
    <input type="submit" value="Submit">
  </form>
</div>

<!-- <div class="col-12 right">
  <div class="aside">
    <h2>Space 1</h2>
    <p>These space for something use future</p>
    <h2>Space 2</h2>
    <p>These space for something use future</p>
    <h2>Space 3</h2>
    <p>These space for something use future</p>
  </div>
</div> -->

</div>

</body>

<script>
function topnav() {
    var x = document.getElementById("myTopnav");
    if (x.className === "col-12 topnav") {
        x.className += " responsive";
    } else {
        x.className = "col-12 topnav";
    }
}

function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
    if(cityName == "modifyUser"){
      showTable();
    }
}
// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();

function getCookie(cname){
	var name = cname + "=";
	var ca = document.cookie.split(';');
	for(var i=0; i<ca.length; i++) {
		var c = ca[i].trim();
		if (c.indexOf(name)==0) return c.substring(name.length,c.length);
	}
	return "";
}

function checkCookie(){
	var user=getCookie("username");
	if (user!=""){
		document.getElementById('admin').innerHTML = user;
	}
	else {
  }
}

var xmlHttp;
function showTable(){
  xmlHttp = GetXmlHttpObject();
if (xmlHttp==null)
 {
 alert ("Browser does not support HTTP Request");
 return 0;
 }
 var url='function-modified.php';
 var params = "";
 params += "display=1&username="+document.getElementById('admin').value;
 // var params = "username="+document.getElementById('reset-username').value+"&email="+document.getElementById('email-name').value;
 xmlHttp.open("POST",url,true);
 xmlHttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
 xmlHttp.onreadystatechange=stateChanged;
 xmlHttp.send(params);
}

function stateChanged(){
if (xmlHttp.readyState==4 || xmlHttp.readyState=="complete"){
  document.getElementById('modifyUser').innerHTML=xmlHttp.responseText;
 }
}

function GetXmlHttpObject(){
var xmlHttp=null;
try{
 // Firefox, Opera 8.0+, Safari
 xmlHttp=new XMLHttpRequest();
 }
catch (e){
 //Internet Explorer
 try{
  xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
  }
 catch (e){
  xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
 }
return xmlHttp;
}

</script>
</html>
